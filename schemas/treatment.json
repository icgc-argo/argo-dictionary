{
  "name": "treatment",
  "description": "The collection of data elements related to a donor's treatment at a specific point in the clinical record. A donor can have multiple treatments.",
  "meta": {
    "parent": "donor"
  },
  "fields": [
    {
      "name": "program_id",
      "valueType": "string",
      "description": "Unique identifier of the ARGO program.",
      "meta": {
        "validationDependency": true,
        "primaryId": true,
        "foreignKey": "sample_registration.program_id",
        "displayName": "Program ID"
      },
      "restrictions": {
        "required": true
      }
    },
    {
      "name": "submitter_donor_id",
      "description": "Unique identifier of the donor, assigned by the data provider.",
      "valueType": "string",
      "meta": {
        "validationDependency": true,
        "primaryId": true,
        "foreignKey": "sample_registration.submitter_donor_id",
        "displayName": "Submitter Donor ID"
      },
      "restrictions": {
        "required": true,
        "regex": "#/regex/submitter_id"
      }
    },
    {
      "name": "submitter_treatment_id",
      "description": "Unique identifier of the treatment, assigned by the data provider.",
      "valueType": "string",
      "meta": {
        "validationDependency": true,
        "primaryId": true,
        "displayName": "Submitter Treatment ID"
      },
      "restrictions": {
        "required": true,
        "regex": "#/regex/submitter_id"
      }
    },
    {
      "name": "submitter_primary_diagnosis_id",
      "valueType": "string",
      "description": "Indicate the primary diagnosis event in the clinical timeline that this treatment was related to.",
      "meta": {
        "primaryId": true,
        "displayName": "Submitter Primary Diagnosis ID"
      },
      "restrictions": {
        "required": true,
        "regex": "#/regex/submitter_id"
      }
    },
    {
      "name": "treatment_type",
      "description": "Indicate the type of treatment regimen that the donor completed.",
      "valueType": "string",
      "restrictions": {
        "required": true,
        "codeList": [
          "Ablation",
          "Bone marrow transplant",
          "Chemotherapy",
          "Combined chemo+immunotherapy",
          "Combined chemo+radiation therapy",
          "Combined chemo-radiotherapy and surgery",
          "Endoscopic therapy",
          "Hormonal therapy",
          "Immunotherapy",
          "Monoclonal antibodies (for liquid tumours)",
          "No treatment",
          "Other targeting molecular therapy",
          "Photodynamic therapy",
          "Radiation therapy",
          "Stem cell transplant",
          "Surgical resection"
        ]
      },
      "meta": {
        "validationDependency": true,
        "core": true,
        "notes": "Depending on the treatment_type selected, additional treatment details may be required to be submitted. For example, if treatment_type includes 'Chemotherapy', the supplemental Chemotherapy treatment type file is required.",
        "displayName": "Treatment Type"
      }
    },
    {
      "name": "age_at_consent_for_treatment",
      "description": "Indicate the age of donor when consent was given for treatment.",
      "valueType": "integer",
      "meta": { "displayName": "Age At Consent For Treatment" }
    },
    {
      "name": "is_primary_treatment",
      "description": "Indicate if the treamtment was the primary treatment following the initial diagnosis.",
      "valueType": "string",
      "restrictions": {
        "required": true,
        "codeList": "#/list/yes_no"
      },
      "meta": {
        "core": true,
        "displayName": "Is Primary Treatment"
      }
    },
    {
      "name": "treatment_start_interval",
      "description": "The interval between the primary diagnosis and initiation of treatment, in days.",
      "valueType": "integer",
      "restrictions": {
        "required": true
      },
      "meta": {
        "core": true,
        "units": "days",
        "notes": "The associated primary diagnosis is used as the reference point for this interval. To calculate this, find the number of days since the date of primary diagnosis.",
        "displayName": "Treatment Start Interval"
      }
    },
    {
      "name": "treatment_duration",
      "description": "The duration of treatment regimen, in days.",
      "valueType": "integer",
      "restrictions": {
        "required": true
      },
      "meta": {
        "core": true,
        "units": "days",
        "displayName": "Treatment Duration"
      }
    },
    {
      "name": "therapeutic_intent",
      "description": "The therapeutic intent, the reason behind the choice of a therapy, of the treatment.",
      "valueType": "string",
      "restrictions": {
        "required": true,
        "codeList": [
          "Adjuvant",
          "Concurrent",
          "Curative",
          "Neoadjuvant",
          "Not applicable",
          "Palliative",
          "Unknown"
        ]
      },
      "meta": {
        "core": true,
        "displayName": "Therapeutic Intent"
      }
    },
    {
      "name": "response_to_therapy",
      "description": "The donors's response to the applied treatment regimen. (Source: RECIST)",
      "valueType": "string",
      "restrictions": {
        "required": true,
        "codeList": [
          "Complete response",
          "Disease progression",
          "NED",
          "Partial response",
          "Stable disease"
        ]
      },
      "meta": {
        "core": true,
        "displayName": "Response to Therapy"
      }
    },
    {
      "name": "clinical_trials_database",
      "description": "If the donor is a participant in a clinical trial, indicate the clinical trial database where the clinical trial is registered.",
      "valueType": "string",
      "meta": { "display name": "Clinical Trials Database" },
      "restrictions": {
        "codeList": [
           "NCI Clinical Trials",
           "EU Clinical Trials Register"
        ]
      }
    },
    {
      "name": "clinical_trial_number",
      "description": "Based on the clinical_trial_database, indicate the unique NCT or EudraCT clinical trial identifier of which the donor is a participant.",
      "valueType": "string",
      "meta": {
        "display name": "Clinical Trial Number",
        "dependsOn": "treatment.clinical_trials_database",
        "examples": "2016-002120-83,NCT02465060"
      },
      "restrictions": {
        "script": "#/script/treatment/clinicalTrialValidation"
      }
    }
  ]
}
