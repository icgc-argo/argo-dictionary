{
  "name": "primary_diagnosis",
  "description": "The collection of data elements related to a donor's primary diagnosis. The primary diagnosis is the first diagnosed case of cancer in a donor.",
  "meta": {
    "parent": "donor"
  },
  "fields": [
    {
      "name": "program_id",
      "valueType": "string",
      "description": "Unique identifier of the ARGO program.",
      "meta": {
        "primaryId": true,
        "foreignKey": "sample_registration.program_id"
      },
      "restrictions": {
        "required": true
      }
    },
    {
      "name": "submitter_donor_id",
      "valueType": "string",
      "description": "Unique identifier of the donor, assigned by the data provider.",
      "meta": {
        "primaryId": true,
        "foreignKey": "sample_registration.submitter_donor_id"
      },
      "restrictions": {
        "required": true,
        "regex": "#/regex/submitter_id"
      }
    },
    {
      "name": "age_at_diagnosis",
      "valueType": "integer",
      "description": "Age that the donor was first diagnosed with cancer, in years.",
      "restrictions": {
        "required": true
      },
      "meta": {
        "units": "years",
        "core": true
      }
    },
    {
      "name": "cancer_type_code",
      "valueType": "string",
      "description": "The code to represent the cancer type using the WHO ICD-10 code (https://icd.who.int/browse10/2016/en#/) classification.",
      "restrictions": {
        "required": true,
        "regex": "[A-Z]{1}[0-9]{2}.[0-9]{0,3}[A-Z]{0,1}$"
      },
      "meta": {
        "core": true
      }
    },
    {
      "name": "number_lymph_nodes_positive",
      "description": "The number of regional lymph nodes reported as being positive for tumour metastases.",
      "valueType": "integer",
      "restrictions": {
        "required": true
      },
      "meta": {
        "core": true
      }
    },
    {
      "name": "number_lymph_nodes_examined",
      "description": "The total number of lymph nodes tested for the presence of cancer.",
      "valueType": "integer"
    },
    {
      "name": "clinical_tumour_staging_system",
      "valueType": "string",
      "description": "Indicate the tumour staging system used to stage the cancer at the time of primary diagnosis (prior to treatment).",
      "restrictions": {
        "script": "#/script/common/ajccValidation",
        "required": true,
        "codeList": [
          "Binet",
          "Rai",
          "FIGO",
          "Ann Arbor",
          "Murphy",
          "Lugano",
          "AJCC 8th Edition",
          "AJCC 7th Edition",
          "AJCC 6th Edition",
          "AJCC 5th Edition",
          "AJCC 4th Edition",
          "AJCC 3rd Edition",
          "AJCC 2nd Edition",
          "AJCC 1st Edition"
        ]
      },
      "meta": {
        "core": true
      }
    },
    {
      "name": "clinical_stage_group",
      "description": "Stage group of the tumour, as assigned by the reporting tumour_staging_system, that indicates the overall prognostic tumour stage (ie. Stage I, Stage II, Stage III etc.).",
      "valueType": "string",
      "restrictions": {
        "script": "function validate() {\r\n  var result = { valid: true, message: \"only required if on tumour_staging_system is AJCC\" };\r\n  return result;\r\n}\r\n\r\nvalidate();"
      },
      "meta": {
        "core": true,
        "dependsOn": "primary_diagnosis.clinical_tumour_staging_system",
        "notes": "This field is required only if the selected clinical_tumour_staging_system is any edition of the AJCC cancer staging system."
      }
    },
    {
      "name": "stage_suffix",
      "description": "If necessary, use this field to add any applicable stage suffixes. Stage suffixes may apply to certain staging systems such as Ann Arbour staging system where the four stages are divided into 4 categories (A, B, X and E).",
      "valueType": "string",
      "restrictions": {
        "script": "function validate() {\r\n  var result = { valid: true, message: \"only required if on tumour_staging_system is AJCC\" };\r\n  return result;\r\n}\r\n\r\nvalidate();",
        "codeList": [
          "Stage 0",
          "Stage IA",
          "Stage IIA",
          "Stage IB",
          "Stage IIB",
          "Stage III",
          "Stage IV"
        ]
      },
      "meta": {
        "core": true,
        "dependsOn": "primary_diagnosis.clinical_tumour_staging_system",
        "notes": "This field is required only if the selected clinical_tumour_staging_system is any edition of the AJCC cancer staging system."
      }
    },
    {
      "name": "clinical_t_category",
      "description": "The code to represent the extent of the primary tumour (T) based on evidence obtained from clinical assessment parameters determined at time of primary diagnosis and prior to treatment, according to criteria based on multiple editions of the AJCC's Cancer Staging Manual.",
      "valueType": "string",
      "restrictions": {
        "script": "function validate() {\r\n  var result = { valid: true, message: \"only required if on tumour_staging_system is AJCC\" };\r\n  return result;\r\n}\r\n\r\nvalidate();"
      },
      "meta": {
        "core": true,
        "dependsOn": "primary_diagnosis.clinical_tumour_staging_system",
        "notes": "This field is required only if the selected clinical_tumour_staging_system is any edition of the AJCC cancer staging system."
      }
    },
    {
      "name": "clinical_n_category",
      "description": "The code to represent the stage of cancer defined by which is the extent of the regional lymph node (N) involvement for the cancer based on evidence obtained from clinical assessment parameters determined at time of primary diagnosis and prior to treatment, according to criteria based on multiple editions of the AJCC's Cancer Staging Manual.",
      "valueType": "string",
      "restrictions": {
        "script": "function validate() {\r\n  var result = { valid: true, message: \"only required if on tumour_staging_system is AJCC\" };\r\n  return result;\r\n}\r\n\r\nvalidate();"
      },
      "meta": {
        "core": true,
        "dependsOn": "primary_diagnosis.clinical_tumour_staging_system",
        "notes": "This field is required only if the selected clinical_tumour_staging_system is any edition of the AJCC cancer staging system."
      }
    },
    {
      "name": "clinical_m_category",
      "description": "The code to represent the stage of cancer defined bythe extent of the distant metastasis (M) for the cancer based on evidence obtained from clinical assessment parameters determined at time of primary diagnosis and prior to treatment, according to criteria based on multiple editions of the AJCC's Cancer Staging Manual. MX is NOT a valid category and cannot be assigned.",
      "valueType": "string",
      "restrictions": {
        "script": "function validate() {\r\n  var result = { valid: true, message: \"only required if on tumour_staging_system is AJCC\" };\r\n  return result;\r\n}\r\n\r\nvalidate();"
      },
      "meta": {
        "core": true,
        "dependsOn": "primary_diagnosis.clinical_tumour_staging_system",
        "notes": "This field is required only if the selected clinical_tumour_staging_system is any edition of the AJCC cancer staging system."
      }
    },
    {
      "name": "presenting_symptoms",
      "description": "Indicate presenting symptoms at time of primary diagnosis.",
      "valueType": "string",
      "restrictions": {
        "codeList": [
          "Abdominal Pain",
          "Anemia",
          "Back Pain",
          "Bloating",
          "Cholangitis",
          "Constipation",
          "Dark Urine",
          "Decreased Appetite",
          "Diabetes",
          "Diarrhea",
          "Fatigue",
          "Fever",
          "Hypoglycemia",
          "Jaundice",
          "Nausea",
          "None",
          "Pale Stools",
          "Pancreatitis",
          "Pruritus/Itchiness",
          "Steatorrhea",
          "Unknown",
          "Vomiting",
          "Weight Loss"
        ]
      }
    },
    {
      "name": "performance_status",
      "description": "Indicate the donor's performance status at the time of primary diagnosis (ECOG performance score https://ecog-acrin.org/resources/ecog-performance-status).",
      "valueType": "string",
      "restrictions": {
        "codeList": [
          "Fully active, able to carry on all pre-disease performance without restriction",
          "Restricted in physically strenuous activity but ambulatory and able to carry out work of a light or sedentary nature (ie. Light house work, office work)",
          "Ambulatory and capable of all selfcare but unable to carry out any work activities; up and about more than 50% of waking hours",
          "Capable of only limited selfcare; confined to bed or chair more than 50% of waking hours",
          "Completely disabled; cannot carry on any selfcare; totally confined to bed or chair"
        ]
      }
    }
  ]
}
