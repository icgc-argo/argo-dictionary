{
    "specimentype_designation": "function validate () {\r\n    var row = $row;\r\n    var result = {valid: true, message: \"Ok\"};\r\n\r\n    var designation = row.tumour_normal_designation.trim().toLowerCase();\r\n    var specimen_type = $field.trim().toLowerCase();\r\n\r\n    if (designation === \"normal\"){\r\n        var validTypes = [\"normal\", \"normal - tissue adjacent to primary tumour\", \"cell line - derived from normal\"];\r\n        if (!validTypes.includes(specimen_type)){\r\n            result = {valid: false, message: \"Specimen Type must be normal\/derived from normal when Tumour Normal Designation is set to Normal.\"};\r\n        }\r\n    }\r\n    else if (designation === \"tumour\") {\r\n        var invalidTypes = [\"normal\", \"cell line - derived from normal\"];\r\n        if (invalidTypes.includes(specimen_type)){\r\n            result = {valid: false, message: \"Specimen Type cannot be normal\/derived from normal when Tumour Normal Designation is set to Tumour.\"};\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nvalidate();\r\n"
}
